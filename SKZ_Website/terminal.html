<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>SKZ - System Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="terminal-style.css">
</head>
<body class="terminal-body">
    <nav class="side-nav">
        <div class="nav-toggle">SYSTEM MENU</div>
        <ul class="nav-links">
            <li><a href="index.html" class="nav-item">ENTRANCE</a></li>
            <li><a href="select.html" class="nav-item">MEMBERS</a></li>
            <li><a href="stages.html" class="nav-item">STAGES</a></li>
            <li><a href="gallery.html" class="nav-item">GALLERY</a></li>
            <li><a href="terminal.html" class="nav-item">TERMINAL</a></li>
        </ul>
    </nav>

    <audio id="terminal-bgm" loop><source src="Terminal bgm.mp3" type="audio/mpeg"></audio>
    <audio id="typing-sfx"><source src="game menu.MP3.mp3"></audio>

    <div class="terminal-main-container">
        <div class="system-status-bar">
            <div class="status-left">
                <span>STATUS: <span class="pulse-green">HEARTBEAT_SYNC_OK</span></span>
            </div>
            <div class="status-right">
                <span id="clock">00:00:00</span>
            </div>
        </div>

        <div class="terminal-window">
            <div class="terminal-header">
                <div class="window-controls">
                    <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
                </div>
                <div class="title-tag">SKZ_EMOTIONAL_INTERFACE_v6.0</div>
            </div>

            <div class="terminal-content" id="terminal-output">
                <div class="line active-text">>>> Ê≠°ËøéÈÄ≤ÂÖ• SKZ ÊÉÖÊÑü‰∏≠Ê®ûÁ≥ªÁµ±„ÄÇ</div>
                <div class="line">>>> ÂÅµÊ∏¨Âà∞Â§ßÈáèÁöÑ STAY ÊÑõÊÑèË®äËôü... [ÊªøËºâ]</div>
                <div class="line">>>> Ëº∏ÂÖ• <span class="highlight-green">'HELP'</span> Êü•ÁúãÊâÄÊúâ‰∫íÂãï‰ª£Á¢º„ÄÇ</div>
                <div class="line">>>> <span class="highlight-pink">[NEW]</span> ÂòóË©¶Ëº∏ÂÖ• 'LOVE' Êàñ 'DAILY'„ÄÇ</div>
                <div class="line">--------------------------------------------------</div>
            </div>

            <div class="terminal-input-zone">
                <span class="prompt-arrow">‚ñ∂</span>
                <input type="text" id="terminal-input" placeholder="Âú®ÈÄôË£°Ëº∏ÂÖ•Êåá‰ª§..." autofocus autocomplete="off">
            </div>
        </div>
    </div>

    <script>
        const input = document.getElementById('terminal-input');
        const output = document.getElementById('terminal-output');
        const typingSfx = document.getElementById('typing-sfx');
        const bgm = document.getElementById('terminal-bgm');
        let audioStarted = false;

        typingSfx.volume = 0.1;
        bgm.volume = 0.7;

        // --- Êì¥Â±ïË≥áÊñôÂ∫´ ---
        const loveQuotes = [
            "BANG CHAN: 'ÁÑ°Ë´ñË∑ùÈõ¢Â§öÈÅ†ÔºåÊàëÂÄëÁúãÁöÑÊòØÂêå‰∏ÄÂÄãÊúà‰∫Æ„ÄÇ'",
            "LEE KNOW: 'Â¶ÇÊûú‰Ω†ÊÑüÂà∞Á¥Ø‰∫ÜÔºåÂ∞±Ë∫≤ÈÄ≤ÊàëÁöÑÊá∑Ë£°‰ºëÊÅØÂêß„ÄÇ'",
            "FELIX: '‰Ω†ÁöÑÁ¨ëÂÆπÊòØÊàëÊúÄÊÉ≥ÂÆàË≠∑ÁöÑÂØ∂Ëóè„ÄÇ'",
            "HYUNJIN: 'Âú®ÊàëÁöÑÊïÖ‰∫ãË£°Ôºå‰Ω†Ê∞∏ÈÅ†ÊòØÂîØ‰∏ÄÁöÑ‰∏ªËßí„ÄÇ'",
            "HAN: 'ÈÅáË¶ã‰Ω†‰πãÂæåÔºåÊàëÂØ´ÁöÑÊâÄÊúâÊÉÖÊ≠åÈÉΩÊúâ‰∫ÜÂêçÂ≠ó„ÄÇ'",
            "CHANGBIN: 'ÊÉ≥ÊàêÁÇ∫‰Ω†ÁöÑÁõæÁâåÔºåÁÇ∫‰Ω†Êìã‰ΩèÊâÄÊúâÁöÑË≤†Èù¢ÊÉÖÁ∑í„ÄÇ'",
            "SEUNGMIN: 'ÊàëÊúÉ‰∏ÄÁõ¥Âî±Ê≠åÔºåÁõ¥Âà∞ËÅ≤Èü≥ÂÇ≥ÈÅîÂà∞‰Ω†ÁöÑÂøÉÂ∫ï„ÄÇ'",
            "I.N: 'ÂßäÂßä/StayÔºå‰ªäÂ§©‰πüË¶ÅÂõ†ÁÇ∫ÊàëËÄåÈñãÂøÉÂú∞Á¨ëÂñîÔºÅ'"
        ];

        const dailyEnergy = [
            "üåü ‰ªäÂ§©ÁöÑ‰Ω†Â∑≤Á∂ìÂæàÂä™Âäõ‰∫ÜÔºå‰Ω†ÊòØÊúÄÊ£íÁöÑÔºÅ",
            "‚ú® ‰∏çË¶ÅÂÆ≥ÊÄïÂ§±ÊïóÔºåStray Kids ÊúÉ‰∏ÄÁõ¥Èô™Âú®‰Ω†Ë∫´ÈÇä„ÄÇ",
            "üí´ ‰Ω†ÊòØÁç®‰∏ÄÁÑ°‰∫åÁöÑÂ≠òÂú®ÔºåÈñÉËÄÄËëóÂ±¨ÊñºËá™Â∑±ÁöÑÂÖâËäí„ÄÇ",
            "üçÄ Âπ∏ÈÅãÊ≠£Âú®Ë∑Ø‰∏äÔºåË´ã‰øùÊåÅÂæÆÁ¨ëËøéÊé•ÂÆÉÔºÅ"
        ];

        const globalLogs = [
            "[Global_Stay_03]: Ë¨ùË¨ù‰Ω†ÂÄëÊàêÁÇ∫ÊàëÁîüÂëΩ‰∏≠ÁöÑÂÖâ„ÄÇ",
            "[Lino_Cat_Mom]: ‰ªäÂ§©ÁúãÂÆåÊºîÂî±ÊúÉÂΩ±ÁâáÔºåÂøÉË∑≥ÈÇÑÊòØÂ•ΩÂø´ÔºÅ",
            "[Felix_Sunshine]: Â§ßÂÆ∂ÁöÑÁïôË®ÄÈÉΩÂ•ΩÊ∫´ÊöñÔºåSKZ ‰πü‰∏ÄÂÆöËÉΩÊÑüÂèóÂà∞„ÄÇ",
            "[Stay_Forever]: ÁÑ°Ë´ñÁôºÁîü‰ªÄÈ∫º‰∫ãÔºåÊàëÂÄëÈÉΩÊúÉÂú®‰Ω†ÂÄëË∫´Âæå„ÄÇ"
        ];

        function startAudio() {
            if (!audioStarted) {
                bgm.play().then(() => { audioStarted = true; }).catch(() => {});
            }
        }

        document.addEventListener('click', startAudio);

        function getLocalMessages() {
            const msgs = localStorage.getItem('skz_fan_logs');
            return msgs ? JSON.parse(msgs) : [];
        }

        function saveMessage(text) {
            const msgs = getLocalMessages();
            msgs.push({ time: new Date().toLocaleString(), content: text });
            localStorage.setItem('skz_fan_logs', JSON.stringify(msgs));
        }

        input.addEventListener('keydown', function(e) {
            startAudio();
            if (e.key === 'Enter') {
                const rawCmd = this.value.trim();
                if (rawCmd !== '') handleCommand(rawCmd);
                this.value = '';
            } else {
                typingSfx.currentTime = 0;
                typingSfx.play().catch(()=>{});
            }
        });

        function handleCommand(rawCmd) {
            const cmd = rawCmd.toLowerCase();
            const args = rawCmd.split(' ');
            const mainCmd = args[0].toLowerCase();
            
            addLine(`<span class="cmd-echo">STAY@SKZ:~$</span> ${rawCmd}`, 'user-line');
            
            setTimeout(() => {
                switch(mainCmd) {
                    case 'help':
                        addLine("--- ‰∫íÂãï‰ª£Á¢ºÊ∏ÖÂñÆ ---");
                        addLine("> LOVE      : Áç≤ÂèñÊàêÂì°ÁöÑÁîúË®ÄËúúË™û");
                        addLine("> DAILY     : ‰ªäÊó•Ê≠£ËÉΩÈáèË™ûÈåÑ");
                        addLine("> READ      : ÁÄèË¶ΩÊÇ®ÁöÑÁïôË®ÄÁ¥ÄÈåÑ");
                        addLine("> WORLD     : Êü•ÁúãÂÖ®ÁêÉ Stay ÁöÑÊ∫´È¶®Êó•Ë™å");
                        addLine("> SHOUTOUT  : [Ë®äÊÅØ] Áïô‰∏ã‰Ω†ÁöÑÊÑõÊÑè");
                        addLine("> CLEAR     : Ê∏ÖÁ©∫ÊéßÂà∂Âè∞");
                        break;
                    
                    case 'love':
                        const quote = loveQuotes[Math.floor(Math.random() * loveQuotes.length)];
                        addLine("Ê≠£Âú®ÊéÉÊèèÊàêÂì°ÁöÑÂøÉË∑≥È†ªÁéá...", "active-text");
                        setTimeout(() => addLine(`>> Êî∂Âà∞Êñ∞Ë®äÊÅØ: <span class="highlight-pink">${quote}</span>`), 600);
                        break;

                    case 'daily':
                        const energy = dailyEnergy[Math.floor(Math.random() * dailyEnergy.length)];
                        addLine("Ê≠£Âú®ÁîüÊàê‰ªäÊó•‰ªΩÁöÑÂãáÊ∞£...", "active-text");
                        setTimeout(() => addLine(`>> <span class="highlight-green">${energy}</span>`), 500);
                        break;

                    case 'world':
                        addLine("Ê≠£Âú®ÈÄ£Á∑öËá≥ÂÖ®ÁêÉ Stay ‰º∫ÊúçÂô®...", "active-text");
                        setTimeout(() => {
                            globalLogs.forEach(log => addLine(log));
                        }, 500);
                        break;

                    case 'shoutout':
                        if(args.length < 2) {
                            addLine("ÈåØË™§: Ë´ãËº∏ÂÖ•ÂÖßÂÆπ„ÄÇÁØÑ‰æã: SHOUTOUT ÊàëÊÑõ‰Ω†ÂÄë", "error-text");
                        } else {
                            const userText = rawCmd.substring(rawCmd.indexOf(' ') + 1);
                            saveMessage(userText);
                            addLine("Ê≠£Âú®Â∞áÊÇ®ÁöÑÊÑõÊÑèÂä†ÂØÜ‰∏¶ÂÇ≥ÈÄÅ...", "active-text");
                            setTimeout(() => addLine(`>> ÊàêÂäü: "${userText}" Â∑≤Â≠òÊ™î„ÄÇ`, "highlight-green"), 500);
                        }
                        break;

                    case 'read':
                        const history = getLocalMessages();
                        addLine("Ê≠£Âú®Ë™øÂèñÊÇ®ÁöÑÂÄã‰∫∫Ê™îÊ°à...", "active-text");
                        if (history.length === 0) {
                            setTimeout(() => addLine(">> ÁõÆÂâçÂ∞öÁÑ°Á¥ÄÈåÑ„ÄÇÂø´ÂéªËº∏ÂÖ• SHOUTOUT ÂêßÔºÅ"), 500);
                        } else {
                            setTimeout(() => {
                                history.forEach((item, index) => addLine(`[${item.time}] AGENT_${index + 1}: ${item.content}`));
                                output.scrollTo({ top: output.scrollHeight, behavior: 'smooth' });
                            }, 500);
                        }
                        break;

                    case 'clear':
                        output.innerHTML = '';
                        break;

                    default:
                        addLine(`Á≥ªÁµ±ÁÑ°Ê≥ïË≠òÂà•Êåá‰ª§: ${mainCmd}`, "error-text");
                }
                output.scrollTo({ top: output.scrollHeight, behavior: 'smooth' });
            }, 250);
        }

        function addLine(text, className = '') {
            const div = document.createElement('div');
            div.className = 'line ' + className;
            div.innerHTML = text;
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
        }

        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
        }, 1000);
    </script>
</body>
</html>